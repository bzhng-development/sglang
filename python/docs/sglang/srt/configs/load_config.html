<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.6">
<title>sglang.srt.configs.load_config API documentation</title>
<meta name="description" content="">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source > summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible;min-width:max-content}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin:1em 0}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
/* Collapse source docstrings */
setTimeout(() => {
[...document.querySelectorAll('.hljs.language-python > .hljs-string')]
.filter(el => el.innerHTML.length > 200 && ['"""', "'''"].includes(el.innerHTML.substring(0, 3)))
.forEach(el => {
let d = document.createElement('details');
d.classList.add('hljs-string');
d.innerHTML = '<summary>"""</summary>' + el.innerHTML.substring(3);
el.replaceWith(d);
});
}, 100);
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>sglang.srt.configs.load_config</code></h1>
</header>
<section id="section-intro">
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="sglang.srt.configs.load_config.LoadConfig"><code class="flex name class">
<span>class <span class="ident">LoadConfig</span></span>
<span>(</span><span>load_format: str | <a title="sglang.srt.configs.load_config.LoadFormat" href="#sglang.srt.configs.load_config.LoadFormat">LoadFormat</a> = LoadFormat.AUTO,<br>download_dir: str | None = None,<br>model_loader_extra_config: str | dict | None = &lt;factory&gt;,<br>ignore_patterns: str | List[str] | None = None,<br>decryption_key_file: str | None = None)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class LoadConfig:
    &#34;&#34;&#34;
    download_dir: Directory to download and load the weights, default to the
        default cache directory of huggingface.
    load_format: The format of the model weights to load:
        &#34;auto&#34; will try to load the weights in the safetensors format and
            fall back to the pytorch bin format if safetensors format is
            not available.
        &#34;pt&#34; will load the weights in the pytorch bin format.
        &#34;safetensors&#34; will load the weights in the safetensors format.
        &#34;npcache&#34; will load the weights in pytorch format and store
            a numpy cache to speed up the loading.
        &#34;dummy&#34; will initialize the weights with random values, which is
            mainly for profiling.
        &#34;bitsandbytes&#34; will load nf4 type weights.
    ignore_patterns: The list of patterns to ignore when loading the model.
        Default to &#34;original/**/*&#34; to avoid repeated loading of llama&#39;s
        checkpoints.
    decryption_key_file: If set, decrypts the output files with a password read
        from this file (after PBKDF2).
    &#34;&#34;&#34;

    load_format: Union[str, LoadFormat] = LoadFormat.AUTO
    download_dir: Optional[str] = None
    model_loader_extra_config: Optional[Union[str, dict]] = field(default_factory=dict)
    ignore_patterns: Optional[Union[List[str], str]] = None
    decryption_key_file: Optional[str] = None

    def __post_init__(self):
        model_loader_extra_config = self.model_loader_extra_config or {}
        if isinstance(model_loader_extra_config, str):
            self.model_loader_extra_config = json.loads(model_loader_extra_config)
        self._verify_load_format()

        if self.ignore_patterns is not None and len(self.ignore_patterns) &gt; 0:
            logger.info(
                &#34;Ignoring the following patterns when downloading weights: %s&#34;,
                self.ignore_patterns,
            )
        else:
            self.ignore_patterns = [&#34;original/**/*&#34;]

    def _verify_load_format(self) -&gt; None:
        if not isinstance(self.load_format, str):
            return

        load_format = self.load_format.lower()
        self.load_format = LoadFormat(load_format)

        rocm_not_supported_load_format: List[str] = []
        if is_hip() and load_format in rocm_not_supported_load_format:
            rocm_supported_load_format = [
                f
                for f in LoadFormat.__members__
                if (f not in rocm_not_supported_load_format)
            ]
            raise ValueError(
                f&#34;load format &#39;{load_format}&#39; is not supported in ROCm. &#34;
                f&#34;Supported load formats are &#34;
                f&#34;{rocm_supported_load_format}&#34;
            )</code></pre>
</details>
<div class="desc"><p>download_dir: Directory to download and load the weights, default to the
default cache directory of huggingface.
load_format: The format of the model weights to load:
"auto" will try to load the weights in the safetensors format and
fall back to the pytorch bin format if safetensors format is
not available.
"pt" will load the weights in the pytorch bin format.
"safetensors" will load the weights in the safetensors format.
"npcache" will load the weights in pytorch format and store
a numpy cache to speed up the loading.
"dummy" will initialize the weights with random values, which is
mainly for profiling.
"bitsandbytes" will load nf4 type weights.
ignore_patterns: The list of patterns to ignore when loading the model.
Default to "original/*<em>/</em>" to avoid repeated loading of llama's
checkpoints.
decryption_key_file: If set, decrypts the output files with a password read
from this file (after PBKDF2).</p></div>
<h3>Instance variables</h3>
<dl>
<dt id="sglang.srt.configs.load_config.LoadConfig.decryption_key_file"><code class="name">var <span class="ident">decryption_key_file</span> : str | None</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sglang.srt.configs.load_config.LoadConfig.download_dir"><code class="name">var <span class="ident">download_dir</span> : str | None</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sglang.srt.configs.load_config.LoadConfig.ignore_patterns"><code class="name">var <span class="ident">ignore_patterns</span> : str | List[str] | None</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sglang.srt.configs.load_config.LoadConfig.load_format"><code class="name">var <span class="ident">load_format</span> : str | <a title="sglang.srt.configs.load_config.LoadFormat" href="#sglang.srt.configs.load_config.LoadFormat">LoadFormat</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sglang.srt.configs.load_config.LoadConfig.model_loader_extra_config"><code class="name">var <span class="ident">model_loader_extra_config</span> : str | dict | None</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="sglang.srt.configs.load_config.LoadFormat"><code class="flex name class">
<span>class <span class="ident">LoadFormat</span></span>
<span>(</span><span>*args, **kwds)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class LoadFormat(str, enum.Enum):
    AUTO = &#34;auto&#34;
    PT = &#34;pt&#34;
    SAFETENSORS = &#34;safetensors&#34;
    NPCACHE = &#34;npcache&#34;
    DUMMY = &#34;dummy&#34;
    SHARDED_STATE = &#34;sharded_state&#34;
    GGUF = &#34;gguf&#34;
    BITSANDBYTES = &#34;bitsandbytes&#34;
    MISTRAL = &#34;mistral&#34;
    LAYERED = &#34;layered&#34;
    JAX = &#34;jax&#34;
    REMOTE = &#34;remote&#34;</code></pre>
</details>
<div class="desc"><p>str(object='') -&gt; str
str(bytes_or_buffer[, encoding[, errors]]) -&gt; str</p>
<p>Create a new string object from the given object. If encoding or
errors is specified, then the object must expose a data buffer
that will be decoded using the given encoding and error handler.
Otherwise, returns the result of object.<strong>str</strong>() (if defined)
or repr(object).
encoding defaults to sys.getdefaultencoding().
errors defaults to 'strict'.</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.str</li>
<li>enum.Enum</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="sglang.srt.configs.load_config.LoadFormat.AUTO"><code class="name">var <span class="ident">AUTO</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sglang.srt.configs.load_config.LoadFormat.BITSANDBYTES"><code class="name">var <span class="ident">BITSANDBYTES</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sglang.srt.configs.load_config.LoadFormat.DUMMY"><code class="name">var <span class="ident">DUMMY</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sglang.srt.configs.load_config.LoadFormat.GGUF"><code class="name">var <span class="ident">GGUF</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sglang.srt.configs.load_config.LoadFormat.JAX"><code class="name">var <span class="ident">JAX</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sglang.srt.configs.load_config.LoadFormat.LAYERED"><code class="name">var <span class="ident">LAYERED</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sglang.srt.configs.load_config.LoadFormat.MISTRAL"><code class="name">var <span class="ident">MISTRAL</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sglang.srt.configs.load_config.LoadFormat.NPCACHE"><code class="name">var <span class="ident">NPCACHE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sglang.srt.configs.load_config.LoadFormat.PT"><code class="name">var <span class="ident">PT</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sglang.srt.configs.load_config.LoadFormat.REMOTE"><code class="name">var <span class="ident">REMOTE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sglang.srt.configs.load_config.LoadFormat.SAFETENSORS"><code class="name">var <span class="ident">SAFETENSORS</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sglang.srt.configs.load_config.LoadFormat.SHARDED_STATE"><code class="name">var <span class="ident">SHARDED_STATE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="sglang.srt.configs" href="index.html">sglang.srt.configs</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="sglang.srt.configs.load_config.LoadConfig" href="#sglang.srt.configs.load_config.LoadConfig">LoadConfig</a></code></h4>
<ul class="">
<li><code><a title="sglang.srt.configs.load_config.LoadConfig.decryption_key_file" href="#sglang.srt.configs.load_config.LoadConfig.decryption_key_file">decryption_key_file</a></code></li>
<li><code><a title="sglang.srt.configs.load_config.LoadConfig.download_dir" href="#sglang.srt.configs.load_config.LoadConfig.download_dir">download_dir</a></code></li>
<li><code><a title="sglang.srt.configs.load_config.LoadConfig.ignore_patterns" href="#sglang.srt.configs.load_config.LoadConfig.ignore_patterns">ignore_patterns</a></code></li>
<li><code><a title="sglang.srt.configs.load_config.LoadConfig.load_format" href="#sglang.srt.configs.load_config.LoadConfig.load_format">load_format</a></code></li>
<li><code><a title="sglang.srt.configs.load_config.LoadConfig.model_loader_extra_config" href="#sglang.srt.configs.load_config.LoadConfig.model_loader_extra_config">model_loader_extra_config</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="sglang.srt.configs.load_config.LoadFormat" href="#sglang.srt.configs.load_config.LoadFormat">LoadFormat</a></code></h4>
<ul class="two-column">
<li><code><a title="sglang.srt.configs.load_config.LoadFormat.AUTO" href="#sglang.srt.configs.load_config.LoadFormat.AUTO">AUTO</a></code></li>
<li><code><a title="sglang.srt.configs.load_config.LoadFormat.BITSANDBYTES" href="#sglang.srt.configs.load_config.LoadFormat.BITSANDBYTES">BITSANDBYTES</a></code></li>
<li><code><a title="sglang.srt.configs.load_config.LoadFormat.DUMMY" href="#sglang.srt.configs.load_config.LoadFormat.DUMMY">DUMMY</a></code></li>
<li><code><a title="sglang.srt.configs.load_config.LoadFormat.GGUF" href="#sglang.srt.configs.load_config.LoadFormat.GGUF">GGUF</a></code></li>
<li><code><a title="sglang.srt.configs.load_config.LoadFormat.JAX" href="#sglang.srt.configs.load_config.LoadFormat.JAX">JAX</a></code></li>
<li><code><a title="sglang.srt.configs.load_config.LoadFormat.LAYERED" href="#sglang.srt.configs.load_config.LoadFormat.LAYERED">LAYERED</a></code></li>
<li><code><a title="sglang.srt.configs.load_config.LoadFormat.MISTRAL" href="#sglang.srt.configs.load_config.LoadFormat.MISTRAL">MISTRAL</a></code></li>
<li><code><a title="sglang.srt.configs.load_config.LoadFormat.NPCACHE" href="#sglang.srt.configs.load_config.LoadFormat.NPCACHE">NPCACHE</a></code></li>
<li><code><a title="sglang.srt.configs.load_config.LoadFormat.PT" href="#sglang.srt.configs.load_config.LoadFormat.PT">PT</a></code></li>
<li><code><a title="sglang.srt.configs.load_config.LoadFormat.REMOTE" href="#sglang.srt.configs.load_config.LoadFormat.REMOTE">REMOTE</a></code></li>
<li><code><a title="sglang.srt.configs.load_config.LoadFormat.SAFETENSORS" href="#sglang.srt.configs.load_config.LoadFormat.SAFETENSORS">SAFETENSORS</a></code></li>
<li><code><a title="sglang.srt.configs.load_config.LoadFormat.SHARDED_STATE" href="#sglang.srt.configs.load_config.LoadFormat.SHARDED_STATE">SHARDED_STATE</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.6</a>.</p>
</footer>
</body>
</html>
